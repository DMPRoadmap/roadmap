<div class="row">
  <div class="col-md-12">
    <h1><%= _('Organisation details') %></h1>
  </div>
</div>

<div class="row">
  <div class="col-md-12">
    <%= form_for(@org, url: admin_update_org_path(@org), html: { class: "roadmap-form bordered", multipart: true, id: "edit_org_details",  method: :put}) do |f| %>

      <fieldset class="side-by-side">
        <div class="form-input">
          <%= f.label :name, class: 'required' %>
          <%= f.text_field :name, class: "left-indent required input-large" %>
        </div>
        <div class="form-input">
          <%= f.label :abbreviation, class: 'required' %>
          <%= f.text_field :abbreviation, class: "left-indent required input-small" %>
        </div>
      
        <% if @org.logo.present? %>
          <div class="org-logo form-input">
            <%= f.label :logo %>
            <%= image_tag @org.logo.url, alt: "#{@org.name} #{_('logo')}", class: 'left-indent' %>
            <div class="inline" id="logo-controls">
              <%= f.label _('Remove logo') % {application_name: Rails.configuration.branding[:application][:name]}, for: :remove_logo %>
              <%= f.check_box :remove_logo, title: _("This will remove your organisation's logo") %>
              <br />
              <div class="inline" id="logo-controls-separator">
                <strong> - <%= _('or') %> - </strong>
              </div>
              <br />
              <%= f.file_field :logo %>
            </div>
          </div>
        <% else %>
          <div class="form-input">
            <%= f.label :logo %>
            <%= f.file_field :logo %>
          </div>
        <% end %>
      
        <div class="form-input" id="banner-text">
          <%= f.label _('Top banner text'), for: @org.banner_text %>
          <div class="inline">
            <%= text_area_tag('org_banner_text', @org.banner_text, id: "org_banner_text") %>
            <script>
              /* Initialises an editor for textarea defined above with id org_banner_text */
              dmproadmap.utils.tinymce.init({ selector: '#org_banner_text' });
            </script>
          </div>
        </div>
      
        <div class="form-input">
          <%= f.label :target_url %>
          <%= f.text_field :target_url, class: "left-indent required input-large top-indent" %>
        </div>
        <div class="form-input">
          <%= f.label :contact_email %>
          <%= f.text_field :contact_email, class: "left-indent required input-medium" %>
        </div>
      
        <div class="form-input">
          <div class="button-spacer">&nbsp;</div>
          <%= render partial: 'shared/accessible_submit_button',
                     locals: {id: 'save_org_submit', 
                              val: 'Save', 
                              disabled_initially: true,
                              tooltip: _('Name and abbreviation are required'),
                              classes: 'left-indent'} %>
        </div>
      </fieldset>
    <% end %>
  </div>
</div>

